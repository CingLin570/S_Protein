{"version":3,"sources":["webpack:///./src/views/Login.vue?f7a2","webpack:///./src/views/Login.vue?5c68","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","scopedSlots","_u","key","fn","ref","invalid","staticStyle","preventDefault","signin","_v","errors","classes","directives","name","rawName","value","user","expression","class","domProps","target","composing","$set","_s","slice","length","_e","staticRenderFns","data","email","password","token","methods","$http","post","url","component"],"mappings":"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","file":"js/chunk-6a928064.98a08d30.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=39f76962&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=39f76962&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"home d-flex align-items-center\"},[_c('div',{staticClass:\"container-fluid\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{staticClass:\"p-5 rounded formSignin\",staticStyle:{\"width\":\"500px\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.signin($event)}}},[_c('h2',[_vm._v(\"登入頁面\")]),_c('div',{staticClass:\"form-group text-left\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"exampleInputEmail1\"}},[_vm._v(\"電子信箱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"email\",\"id\":\"email\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"請輸入電子信箱\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),(errors[0])?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s((\"帳號\" + (errors[0].slice(6, errors[0].length)))))]):_vm._e()]}}],null,true)})],1),_c('div',{staticClass:\"form-group text-left\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"exampleInputPassword1\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"請輸入密碼\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),(errors[0])?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s((\"密碼\" + (errors[0].slice(9, errors[0].length)))))]):_vm._e()]}}],null,true)})],1),_c('button',{staticClass:\"btn btn-dark\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\"登入\")])])]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"home d-flex align-items-center\">\n    <div class=\"container-fluid\">\n      <loading :active.sync=\"isLoading\"></loading>\n      <div class=\"d-flex justify-content-center\">\n        <validation-observer v-slot=\"{ invalid }\">\n          <form style=\"width:500px\" @submit.prevent=\"signin\" class=\"p-5 rounded formSignin\">\n            <h2>登入頁面</h2>\n            <div class=\"form-group text-left\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"exampleInputEmail1\">電子信箱</label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  v-model=\"user.email\"\n                  :class=\"classes\"\n                  id=\"email\"\n                  aria-describedby=\"emailHelp\"\n                  placeholder=\"請輸入電子信箱\"\n                />\n                <span\n                  v-if=\"errors[0]\"\n                  class=\"text-danger\"\n                >{{ `帳號${errors[0].slice(6, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <div class=\"form-group text-left\">\n              <validation-provider v-slot=\"{ errors, classes }\" rules=\"required\">\n                <label for=\"exampleInputPassword1\">密碼</label>\n                <input\n                  type=\"password\"\n                  class=\"form-control\"\n                  v-model=\"user.password\"\n                  :class=\"classes\"\n                  id=\"password\"\n                  placeholder=\"請輸入密碼\"\n                />\n                <span\n                  v-if=\"errors[0]\"\n                  class=\"text-danger\"\n                >{{ `密碼${errors[0].slice(9, errors[0].length)}` }}</span>\n              </validation-provider>\n            </div>\n            <button type=\"submit\" class=\"btn btn-dark\" :disabled=\"invalid\">登入</button>\n          </form>\n        </validation-observer>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'login',\n  data () {\n    return {\n      user: {\n        email: '',\n        password: ''\n      },\n      token: '',\n      isLoading: false\n    }\n  },\n  methods: {\n    signin () {\n      this.isLoading = true\n      const url = `${process.env.VUE_APP_APIPATH}/api/auth/login`\n      this.$http.post(url, this.user)\n        .then((response) => {\n          console.log(response)\n          this.isLoading = false\n          const expired = response.data.expired\n          const token = response.data.token\n          this.$bus.$emit('message:push',\n            '登入成功',\n            'success')\n          document.cookie = `hextoken=${token};expires=${new Date(expired * 1000)};`\n          this.$router.push('/admin/products')\n        }).catch((error) => {\n          this.$bus.$emit('message:push',\n            `登入失敗惹，好糗Σ( ° △ °|||)︴\n            ${error}`,\n            'danger')\n          this.isLoading = false\n          console.log(error)\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  background: url( \"https://images.unsplash.com/photo-1571902943202-507ec2618e8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=968&q=80\" );\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  height: 100vh;\n}\n.formSignin {\n  background-color: rgba(255, 253, 253, 0.9);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=39f76962&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=39f76962&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39f76962\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}