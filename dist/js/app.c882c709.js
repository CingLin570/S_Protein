(function(t){function e(e){for(var n,r,o=e[0],i=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);f&&f(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(c.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s={app:0},c=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-136e1f75":"dc8134db","chunk-2cfdfdc1":"5da37146","chunk-2d358950":"a70d5112","chunk-38974877":"2ca673a4","chunk-47fcd02f":"44af26c6","chunk-53267c68":"24a32587","chunk-5724f464":"dbb7d846","chunk-57fc3f54":"57a4272f","chunk-6a928064":"98a08d30","chunk-72238fa0":"5a43dea6","chunk-7a057529":"a18d4c43","chunk-7e421532":"b4101cc1","chunk-7f40cb6e":"7e404998","chunk-af28c47a":"96d01084","chunk-f4d31988":"af6a0127","chunk-fb9fc462":"f9a48e16"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a={"chunk-136e1f75":1,"chunk-2cfdfdc1":1,"chunk-2d358950":1,"chunk-38974877":1,"chunk-47fcd02f":1,"chunk-53267c68":1,"chunk-5724f464":1,"chunk-57fc3f54":1,"chunk-6a928064":1,"chunk-72238fa0":1,"chunk-7a057529":1,"chunk-7e421532":1,"chunk-7f40cb6e":1,"chunk-af28c47a":1,"chunk-f4d31988":1,"chunk-fb9fc462":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-136e1f75":"75430164","chunk-2cfdfdc1":"6611793d","chunk-2d358950":"06d27d84","chunk-38974877":"bb8a6cb0","chunk-47fcd02f":"06d27d84","chunk-53267c68":"682934d8","chunk-5724f464":"06d27d84","chunk-57fc3f54":"06d27d84","chunk-6a928064":"0e062a34","chunk-72238fa0":"6dd9b754","chunk-7a057529":"0e166c21","chunk-7e421532":"06d27d84","chunk-7f40cb6e":"28588a2d","chunk-af28c47a":"759b86cb","chunk-f4d31988":"55df9598","chunk-fb9fc462":"766d8430"}[t]+".css",s=i.p+n,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var u=c[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===n||l===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||s,c=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=n,delete r[t],f.parentNode.removeChild(f),a(c)},f.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var c=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}s[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/s_protein/dist/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"46ae":function(t,e,a){"use strict";var n=a("778d"),r=a.n(n);r.a},"4a2f":function(t,e,a){"use strict";var n=a("b1d9"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("a15b"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("bc3a"),s=a.n(r),c=a("a7fe"),o=a.n(c),i=(a("4989"),a("7bb1")),u=a("4c93"),l=a("60d4"),d=a("9062"),f=a.n(d),h=(a("e40d"),a("46e0")),p=a.n(h);a("c91a");n["default"].prototype.$bus=new n["default"];var m=a("7212"),b=a.n(m),v=a("6afc"),g=(a("a7a3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("AlertMessage"),a("router-view")],1)}),k=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,n){return a("div",{key:n,staticClass:"alert alert-dismissible fade show",class:"alert-"+e.status,attrs:{role:"alert"}},[a("span",[t._v(t._s(e.message))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.removeMessage(n)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},y=[],x=(a("a434"),{data:function(){return{messages:[]}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,n){a.timestamp===t&&e.messages.splice(n,1)}))}),5e3)}}}),_=x,w=(a("4a2f"),a("2877")),j=Object(w["a"])(_,C,y,!1,null,null,null),L=j.exports,$={name:"App",components:{AlertMessage:L}},A=$,O=(a("5c0b"),Object(w["a"])(A,g,k,!1,null,null,null)),E=O.exports,T=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home position-relative",attrs:{id:"home"}},[a("div",{staticClass:"aside position-fixed bg-primary"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[a("router-link",{staticClass:"asideClose text-light m-0",attrs:{to:"/"}},[t._v("首頁")])],1)]),a("tr",[a("th",{attrs:{scope:"row"}},[a("router-link",{staticClass:"asideClose text-light m-0",attrs:{to:"/about"}},[t._v("關於我們")])],1)]),a("tr",[a("th",{attrs:{scope:"row"}},[a("router-link",{staticClass:"asideClose text-light m-0",attrs:{to:"/products"}},[t._v("產品列表")])],1)]),a("tr",[a("th",{attrs:{scope:"row"}},[a("router-link",{staticClass:"asideClose text-light m-0",attrs:{to:"/cart"}},[t._v("購物車")])],1)]),a("tr",[a("th",{attrs:{scope:"row"}},[a("router-link",{staticClass:"asideClose text-light m-0",attrs:{to:"/Login"}},[t._v("後台產品頁面")])],1)])])])]),a("div",{staticClass:"homeNavbar p-0 position-fixed w-100 z-index"},[a("nav",{staticClass:"navbarAnimate bg-transparent px-3",attrs:{id:"navbar"}},[a("div",{staticClass:"d-flex flex-grow-1 justify-content-center align-items-center"},[a("a",{staticClass:"shadow-none bg-transparent mr-3 p-0 font-style font-xs text-dark",attrs:{id:"logo",href:""}},[t._v("S Protein")]),a("ul",{staticClass:"d-none d-md-flex justify-content-around list-unstyled m-0"},[a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/about"}},[t._v("關於我們")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/cart"}},[t._v("購物車")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/Login"}},[t._v("後台產品頁面")])],1)]),a("ul",{staticClass:"d-flex justify-content-center align-items-center ml-auto mb-0 list-unstyled"},[t._m(1),a("li",[a("a",{staticClass:"position-relative",attrs:{href:"#",id:"cart"}},[a("i",{staticClass:"fas fa-shopping-cart fa-2x text-dark"}),t.cartQuantity?a("span",{staticClass:"badge badge-danger cartAmount"},[t._v(t._s(t.cartQuantity))]):t._e()])])])])]),a("div",{staticClass:"cart",attrs:{id:"cartList"}},[a("div",[t.cartQuantity?a("div",{staticClass:"card card-body rounded-0 px-0 pt-3 pb-0 border"},[a("span",{staticClass:"h5 mb-0 text-center"},[t._v("已選擇商品")]),a("div",{staticClass:"cartList"},[a("div",{staticClass:"container-fluid"},t._l(t.cart,(function(e){return a("div",{key:e.product.id,staticClass:"cartItem pt-2"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-5"},[a("img",{staticClass:"img-fluid",attrs:{src:e.product.imageUrl,st:"",alt:""}})]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"text-left d-flex flex-column justify-content-between h-100"},[a("span",{staticClass:"d-block"},[t._v(t._s(e.product.title))]),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[t._v(t._s(e.quantity)+" x "+t._s(t._f("total")(e.product.price)))]),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCartItem(e.product.id)}}},[a("i",{staticClass:"fas fa-trash-alt text-primary"})])])])])])])})),0)]),a("button",{staticClass:"btn btn-primary rounded-0",attrs:{type:"button"},on:{click:t.goCart}},[t._v("前去購買")])]):a("div",{staticClass:"card card-body rounded-0 py-5 border-0"},[a("span",{staticClass:"h5 text-center"},[t._v("您未選擇商品")])])])])]),a("back-to-top",{attrs:{text:"Back to top",visibleoffset:"50"}},[a("i",{staticClass:"far fa-arrow-alt-circle-up fa-4x text-primary"})]),a("router-view")],1)},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"d-flex justify-content-between align-items-center",attrs:{scope:"col"}},[a("span",[t._v("主選單")]),a("button",{staticClass:"asideClose btn",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-times"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"mr-3 d-md-none"},[a("a",{attrs:{href:"#",id:"aside"}},[a("i",{staticClass:"fas fa-align-justify fa-2x text-dark border border-dark p-2"})])])}],q=(a("99af"),a("b0c0"),a("1157")),S=a.n(q);S()(document).ready((function(){S()(window).scroll((function(){var t=S()(window).scrollTop();S()("#navbar").each((function(){t>20?(S()("#navbar").removeClass("bg-transparent"),S()("#navbar").addClass("bg-light")):(S()("#navbar").removeClass("bg-light"),S()("#navbar").addClass("bg-transparent"))}))}))}));var D={name:"Home",data:function(){return{cart:[],cartTotal:0,cartQuantity:0}},updated:function(){window.scroll(0,0)},created:function(){var t=this;this.$bus.$on("updateCart",(function(){t.getCart(),S()("#cartList").addClass("cartList")})),this.getCart()},mounted:function(){var t=this;S()(".asideClose").click((function(t){t.preventDefault(),S()("#home").removeClass("open")})),S()("#aside").click((function(t){t.preventDefault(),S()("#home").toggleClass("open")})),S()("#cart").click((function(t){t.preventDefault(),S()("#cartList").toggleClass("cartList")})),this.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/products")).then((function(e){t.isLoading=!1}))},methods:{goCart:function(){this.$router.push("/cart"),S()("#cartList").removeClass("cartList")},getCart:function(){var t=this;this.cartTotal=0,this.cartQuantity=0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping");this.$http.get(e).then((function(e){t.cart=e.data.data,t.cart.forEach((function(e){t.cartTotal+=e.product.price*e.quantity,t.cartQuantity+=e.quantity}))}))},removeCartItem:function(t){var e=this,a=this.$loading.show(),n="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping/").concat(t);this.$http.delete(n).then((function(){a.hide(),e.cartTotal=0,e.cartQuantity=0,e.getCart(),S()("#cartList").removeClass("cartList"),"前台購物車"===e.$route.name&&e.$bus.$emit("delete")})).catch((function(t){console.log(t.data)}))}}},N=D,Q=(a("46ae"),Object(w["a"])(N,M,P,!1,null,null,null)),B=Q.exports;n["default"].use(T["a"]);var I=[{path:"*",redirect:"/"},{path:"/",name:"首頁",component:B,children:[{path:"",name:"前台選單列表",component:function(){return a.e("chunk-f4d31988").then(a.bind(null,"2990"))}},{path:"/about",name:"關於我們頁面",component:function(){return a.e("chunk-7a057529").then(a.bind(null,"2f7f"))}},{path:"/products",name:"前台產品列表",component:function(){return a.e("chunk-53267c68").then(a.bind(null,"81b1"))}},{path:"/product/:id",name:"前台單一產品",component:function(){return a.e("chunk-2cfdfdc1").then(a.bind(null,"0fd0"))}},{path:"/cart",name:"前台購物車",component:function(){return a.e("chunk-136e1f75").then(a.bind(null,"2355"))}},{path:"/checkoutorder",name:"前台客戶訂單",component:function(){return a.e("chunk-af28c47a").then(a.bind(null,"6f5f"))}},{path:"/orderfinish/:orderid",name:"前台填寫訂單資訊",component:function(){return a.e("chunk-7f40cb6e").then(a.bind(null,"63f7"))}},{path:"/ordersuccess",name:"前台訂單完成",component:function(){return a.e("chunk-38974877").then(a.bind(null,"ea44"))}}]},{path:"/login",name:"後台登入頁面",component:function(){return a.e("chunk-6a928064").then(a.bind(null,"a55b"))}},{path:"/admin",name:"後台首頁",component:function(){return a.e("chunk-fb9fc462").then(a.bind(null,"b101"))},children:[{path:"products",name:"後台產品頁面",component:function(){return a.e("chunk-72238fa0").then(a.bind(null,"61bc"))},meta:{requiresAuth:!0}},{path:"coupons",name:"後台優惠卷",component:function(){return a.e("chunk-57fc3f54").then(a.bind(null,"8c58"))},meta:{requiresAuth:!0}},{path:"storages",name:"圖片儲存庫頁面",component:function(){return a.e("chunk-2d358950").then(a.bind(null,"3f2d"))},meta:{requiresAuth:!0}},{path:"detail",name:"客戶訂單明細頁面",component:function(){return a.e("chunk-7e421532").then(a.bind(null,"25a9"))},meta:{requiresAuth:!0}},{path:"order",name:"模擬訂單頁面",component:function(){return a.e("chunk-5724f464").then(a.bind(null,"d2e2"))},meta:{requiresAuth:!0}},{path:"customer_checkout/:orderId",name:"用戶訂單列表",component:function(){return a.e("chunk-47fcd02f").then(a.bind(null,"056d"))},meta:{requiresAuth:!0}}]}],z=new T["a"]({routes:I}),F=z;Object.keys(u).forEach((function(t){Object(i["d"])(t,u[t])})),Object(i["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),Object(i["e"])("tw",l),n["default"].component("ValidationObserver",i["a"]),n["default"].component("ValidationProvider",i["b"]),n["default"].component("step-progress",p.a),n["default"].component("Loading",f.a),n["default"].use(v["a"]),n["default"].use(b.a),n["default"].use(o.a,s.a),n["default"].use(f.a,{canCancel:!1,color:"#5CA8CA",loader:"dots",width:100,height:100,backgroundColor:"#ffffff",isFullPage:!0,opacity:.8}),n["default"].config.productionTip=!1,n["default"].filter("total",(function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"NT$"+e.join(".")})),n["default"].filter("percent",(function(t){return t+"%"})),F.beforeEach((function(t,e,a){if(t.meta.requiresAuth){console.log("這裡需要驗證");var n="".concat("https://course-ec-api.hexschool.io","/api/auth/check"),r=document.cookie.replace(/(?:(?:^|.*;\s*)hextoken\s*=\s*([^;]*).*$)|^.*$/,"$1");s.a.defaults.headers.common.Authorization="Bearer ".concat(r),s.a.post(n,{api_token:r}).then((function(t){t.data.success?a():(console.log("未取得token"),a({path:"/Login"}))})).catch((function(t){console.log(t.response.data.message),a({path:"/Login"})}))}else a()})),new n["default"]({router:F,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"778d":function(t,e,a){},"9c0c":function(t,e,a){},b1d9:function(t,e,a){}});
//# sourceMappingURL=app.c882c709.js.map