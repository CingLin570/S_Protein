(function(t){function e(e){for(var n,r,o=e[0],i=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==c[o]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},c={app:0},s=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-136e1f75":"67f19895","chunk-2d358950":"6dab4660","chunk-38974877":"af54137d","chunk-47f205b1":"d96d5205","chunk-47fcd02f":"8050ad3e","chunk-500985f0":"8c7a36cf","chunk-51ffe46f":"6909c398","chunk-53174482":"6d700dd0","chunk-5724f464":"8cb7365e","chunk-57fc3f54":"09fe924c","chunk-63c45df4":"26e7a7bc","chunk-72238fa0":"eec89552","chunk-7e421532":"7788b981","chunk-7f40cb6e":"1a1764b4","chunk-af28c47a":"bd664787","chunk-fb9fc462":"3ad1745d"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a={"chunk-136e1f75":1,"chunk-2d358950":1,"chunk-38974877":1,"chunk-47f205b1":1,"chunk-47fcd02f":1,"chunk-500985f0":1,"chunk-51ffe46f":1,"chunk-53174482":1,"chunk-5724f464":1,"chunk-57fc3f54":1,"chunk-63c45df4":1,"chunk-72238fa0":1,"chunk-7e421532":1,"chunk-7f40cb6e":1,"chunk-af28c47a":1,"chunk-fb9fc462":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-136e1f75":"75430164","chunk-2d358950":"06d27d84","chunk-38974877":"8f19779f","chunk-47f205b1":"0e166c21","chunk-47fcd02f":"06d27d84","chunk-500985f0":"86a08bcd","chunk-51ffe46f":"ce9d4717","chunk-53174482":"3f286aff","chunk-5724f464":"06d27d84","chunk-57fc3f54":"06d27d84","chunk-63c45df4":"1c02247c","chunk-72238fa0":"6dd9b754","chunk-7e421532":"06d27d84","chunk-7f40cb6e":"9aa80e7c","chunk-af28c47a":"759b86cb","chunk-fb9fc462":"766d8430"}[t]+".css",c=i.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===c))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===n||l===c)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||c,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[t],f.parentNode.removeChild(f),a(s)},f.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[t]=0})));var n=c[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,a){n=c[t]=[e,a]}));e.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=c[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}c[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"46ae":function(t,e,a){"use strict";var n=a("778d"),r=a.n(n);r.a},"4a2f":function(t,e,a){"use strict";var n=a("b1d9"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("a15b"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("bc3a"),c=a.n(r),s=a("a7fe"),o=a.n(s),i=(a("4989"),a("7bb1")),u=a("4c93"),l=a("60d4"),d=a("9062"),f=a.n(d),h=(a("e40d"),a("46e0")),p=a.n(h);a("c91a");n["default"].prototype.$bus=new n["default"];var m=a("7212"),b=a.n(m),g=a("6afc"),v=(a("a7a3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("AlertMessage"),a("router-view")],1)}),k=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,n){return a("div",{key:n,staticClass:"alert alert-dismissible fade show",class:"alert-"+e.status,attrs:{role:"alert"}},[a("span",[t._v(t._s(e.message))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.removeMessage(n)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},y=[],x=(a("a434"),{data:function(){return{messages:[]}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))},beforeDestroy:function(){this.$bus.$off("message:push")},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,n){a.timestamp===t&&e.messages.splice(n,1)}))}),5e3)}}}),_=x,w=(a("4a2f"),a("2877")),$=Object(w["a"])(_,C,y,!1,null,null,null),j=$.exports,L={name:"App",components:{AlertMessage:j}},T=L,A=(a("5c0b"),Object(w["a"])(T,v,k,!1,null,null,null)),O=A.exports,E=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home position-relative",attrs:{id:"home"}},[a("div",{staticClass:"aside position-fixed bg-primary"},[a("ul",{staticClass:"p-0"},[t._m(0),a("li",{staticClass:"p-2 border-top border-bottom border-white"},[a("router-link",{staticClass:"asideClose d-block text-light m-0",attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"p-2 border-bottom border-white"},[a("router-link",{staticClass:"asideClose d-block text-light m-0",attrs:{to:"/about"}},[t._v("關於我們")])],1),a("li",{staticClass:"p-2 border-bottom border-white"},[a("router-link",{staticClass:"asideClose d-block text-light m-0",attrs:{to:"/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"p-2 border-bottom border-white"},[a("router-link",{staticClass:"asideClose d-block text-light m-0",attrs:{to:"/cart"}},[t._v("購物車")])],1)])]),a("div",{staticClass:"homeNavbar p-0 position-fixed w-100 z-index"},[a("nav",{staticClass:"navbarAnimate bg-transparent px-3",attrs:{id:"navbar"}},[a("div",{staticClass:"d-flex flex-grow-1 justify-content-center align-items-center"},[a("a",{staticClass:"shadow-none bg-transparent mr-3 p-0 font-style font-xs text-dark",attrs:{id:"logo",href:""}},[t._v("S Protein")]),a("ul",{staticClass:"d-none d-md-flex justify-content-around list-unstyled m-0"},[a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/"}},[t._v("首頁")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/about"}},[t._v("關於我們")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/products"}},[t._v("產品列表")])],1),a("li",{staticClass:"px-2 py-3"},[a("router-link",{staticClass:"homeLink text-dark h5 m-0",attrs:{to:"/cart"}},[t._v("購物車")])],1)]),a("ul",{staticClass:"d-flex justify-content-center align-items-center ml-auto mb-0 list-unstyled"},[a("li",{staticClass:"mr-3 d-md-none"},[a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.asideToggle(e)}}},[a("i",{staticClass:"fas fa-align-justify fa-2x text-dark border border-dark p-2"})])]),a("li",[a("a",{staticClass:"position-relative d-block",attrs:{id:"cart",href:"#"},on:{click:function(e){return e.preventDefault(),t.cartClick(e)}}},[a("i",{staticClass:"fas fa-shopping-cart fa-2x text-dark"}),t.cartQuantity?a("span",{staticClass:"badge badge-danger cartAmount"},[t._v(t._s(t.cartQuantity))]):t._e()])])])])]),a("div",{staticClass:"cart",attrs:{id:"cartList"}},[a("div",[t.cartQuantity>0?a("div",{staticClass:"card card-body rounded-0 px-0 pt-3 pb-0 border border-primary"},[a("span",{staticClass:"h5 mb-0 text-center"},[t._v("已選擇商品")]),a("div",{staticClass:"cartList"},[a("div",{staticClass:"container-fluid"},t._l(t.cart,(function(e){return a("div",{key:e.product.id,staticClass:"cartItem pt-2"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-5"},[a("img",{staticClass:"img-fluid",attrs:{src:e.product.imageUrl[0],alt:""}})]),a("div",{staticClass:"col-7"},[a("div",{staticClass:"text-left d-flex flex-column justify-content-between h-100"},[a("span",{staticClass:"d-block"},[t._v(t._s(e.product.title))]),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[t._v(t._s(e.quantity)+" x "+t._s(t._f("total")(e.product.price)))]),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCartItem(e.product.id)}}},[a("i",{staticClass:"fas fa-trash-alt text-primary"})])])])])])])})),0)]),a("button",{staticClass:"btn btn-primary rounded-0 text-black",attrs:{type:"button"},on:{click:t.goCart}},[t._v("前去購買")])]):a("div",{staticClass:"card card-body rounded-0 py-5 border border-primary"},[a("span",{staticClass:"h5 text-center"},[t._v("您未選擇商品")])])])])]),a("back-to-top",{attrs:{text:"Back to top",visibleoffset:"50"}},[a("i",{staticClass:"fas fa-arrow-alt-circle-up fa-4x text-dark"})]),a("router-view")],1)},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"d-flex p-2 border-top border-bottom border-white justify-content-between align-items-center"},[a("span",{staticClass:"text-white"},[t._v("主選單")]),a("button",{staticClass:"asideClose btn",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-times"})])])}],P=(a("99af"),a("b0c0"),a("1157")),S=a.n(P),Q={name:"Home",data:function(){return{cart:[],cartTotal:0,cartQuantity:0,closeCart:!1}},created:function(){var t=this;this.$bus.$on("updateCart",(function(){t.getCarticon()})),this.$bus.$on("changeCart",(function(){t.getCart()})),this.getCart()},mounted:function(){S()(document).ready((function(){S()(window).scroll((function(){var t=S()(window).scrollTop();S()("#navbar").each((function(){t>20?(S()("#navbar").removeClass("bg-transparent"),S()("#navbar").addClass("bg-light")):(S()("#navbar").removeClass("bg-light"),S()("#navbar").addClass("bg-transparent"))}))})),S()(".asideClose").click((function(t){t.preventDefault(),S()("#home").removeClass("open")})),S()(document).click((function(t){var e=S()("#cartList"),a=S()("#cart");e.is(t.target)||0!==e.has(t.target).length||a.is(t.targe)||0!==a.has(t.target).length||S()("#cartList").removeClass("cartList")}))}))},beforeDestroy:function(){this.$bus.$off("updateCart"),this.$bus.$off("changeCart")},methods:{asideToggle:function(){S()("#home").toggleClass("open")},cartClick:function(){S()("#cartList").toggleClass("cartList")},goCart:function(){this.$router.push("/cart"),S()("#cartList").removeClass("cartList")},getCarticon:function(){var t=this,e=this.$loading.show();this.cartTotal=0,this.cartQuantity=0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.cart.forEach((function(e){t.cartTotal+=e.product.price*e.quantity,t.cartQuantity+=e.quantity})),S()("#cartList").addClass("cartList"),e.hide()})).catch((function(e){var a=e.response.data.errors;t.$bus.$emit("message:push","錯誤 ".concat(a),"danger")}))},getCart:function(){var t=this;this.cartTotal=0,this.cartQuantity=0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping");this.$http.get(e).then((function(e){t.cart=e.data.data,t.cart.forEach((function(e){t.cartTotal+=e.product.price*e.quantity,t.cartQuantity+=e.quantity}))})).catch((function(e){var a=e.response.data.errors;t.$bus.$emit("message:push","錯誤 ".concat(a),"danger")}))},getremoveCart:function(){var t=this;this.cartTotal=0,this.cartQuantity=0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping");this.$http.get(e).then((function(e){t.cart=e.data.data,t.cart.forEach((function(e){t.cartTotal+=e.product.price*e.quantity,t.cartQuantity+=e.quantity})),0===t.cartTotal&&S()("#cartList").removeClass("cartList")})).catch((function(e){var a=e.response.data.errors;t.$bus.$emit("message:push","錯誤 ".concat(a),"danger")}))},removeCartItem:function(t){var e=this,a=this.$loading.show(),n="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping/").concat(t);this.$http.delete(n).then((function(){e.getremoveCart(),"前台購物車"===e.$route.name&&e.$bus.$emit("delete"),a.hide()})).catch((function(t){var a=t.response.data.errors;e.$bus.$emit("message:push","錯誤 ".concat(a),"danger")}))}}},D=Q,B=(a("46ae"),Object(w["a"])(D,q,M,!1,null,null,null)),N=B.exports;n["default"].use(E["a"]);var I=[{path:"*",redirect:"/"},{path:"/",name:"首頁",component:N,children:[{path:"",name:"前台選單列表",component:function(){return a.e("chunk-500985f0").then(a.bind(null,"2990"))}},{path:"/about",name:"關於我們頁面",component:function(){return a.e("chunk-47f205b1").then(a.bind(null,"2f7f"))}},{path:"/products",name:"前台產品列表",component:function(){return a.e("chunk-63c45df4").then(a.bind(null,"81b1"))}},{path:"/product/:id",name:"前台單一產品",component:function(){return a.e("chunk-53174482").then(a.bind(null,"0fd0"))}},{path:"/cart",name:"前台購物車",component:function(){return a.e("chunk-136e1f75").then(a.bind(null,"2355"))}},{path:"/checkoutorder",name:"前台客戶訂單",component:function(){return a.e("chunk-af28c47a").then(a.bind(null,"6f5f"))}},{path:"/orderfinish/:orderid",name:"前台填寫訂單資訊",component:function(){return a.e("chunk-7f40cb6e").then(a.bind(null,"63f7"))}},{path:"/ordersuccess",name:"前台訂單完成",component:function(){return a.e("chunk-38974877").then(a.bind(null,"ea44"))}}]},{path:"/login",name:"後台登入頁面",component:function(){return a.e("chunk-51ffe46f").then(a.bind(null,"a55b"))}},{path:"/admin",name:"後台首頁",component:function(){return a.e("chunk-fb9fc462").then(a.bind(null,"b101"))},children:[{path:"products",name:"後台產品頁面",component:function(){return a.e("chunk-72238fa0").then(a.bind(null,"61bc"))},meta:{requiresAuth:!0}},{path:"coupons",name:"後台優惠卷",component:function(){return a.e("chunk-57fc3f54").then(a.bind(null,"8c58"))},meta:{requiresAuth:!0}},{path:"storages",name:"圖片儲存庫頁面",component:function(){return a.e("chunk-2d358950").then(a.bind(null,"3f2d"))},meta:{requiresAuth:!0}},{path:"detail",name:"客戶訂單明細頁面",component:function(){return a.e("chunk-7e421532").then(a.bind(null,"25a9"))},meta:{requiresAuth:!0}},{path:"order",name:"模擬訂單頁面",component:function(){return a.e("chunk-5724f464").then(a.bind(null,"d2e2"))},meta:{requiresAuth:!0}},{path:"customer_checkout/:orderId",name:"用戶訂單列表",component:function(){return a.e("chunk-47fcd02f").then(a.bind(null,"056d"))},meta:{requiresAuth:!0}}]}],z=new E["a"]({routes:I,scrollBehavior:function(t,e,a){return a||{x:0,y:0}}}),F=z;Object.keys(u).forEach((function(t){Object(i["d"])(t,u[t])})),Object(i["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),Object(i["e"])("tw",l),n["default"].component("ValidationObserver",i["a"]),n["default"].component("ValidationProvider",i["b"]),n["default"].component("step-progress",p.a),n["default"].component("Loading",f.a),n["default"].use(g["a"]),n["default"].use(b.a),n["default"].use(o.a,c.a),n["default"].use(f.a,{canCancel:!1,color:"#5CA8CA",loader:"dots",width:100,height:100,backgroundColor:"#ffffff",isFullPage:!0,opacity:.8}),n["default"].config.productionTip=!1,n["default"].filter("total",(function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"NT$"+e.join(".")})),n["default"].filter("percent",(function(t){return t+"%"})),F.beforeEach((function(t,e,a){if(t.meta.requiresAuth){console.log("這裡需要驗證");var n="".concat("https://course-ec-api.hexschool.io","/api/auth/check"),r=document.cookie.replace(/(?:(?:^|.*;\s*)hextoken\s*=\s*([^;]*).*$)|^.*$/,"$1");c.a.defaults.headers.common.Authorization="Bearer ".concat(r),c.a.post(n,{api_token:r}).then((function(t){t.data.success?a():(console.log("未取得token"),a({path:"/Login"}))})).catch((function(t){console.log(t.response.data.message),a({path:"/Login"})}))}else a()})),new n["default"]({router:F,render:function(t){return t(O)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"778d":function(t,e,a){},"9c0c":function(t,e,a){},b1d9:function(t,e,a){}});