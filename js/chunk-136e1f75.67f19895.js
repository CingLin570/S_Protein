(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-136e1f75"],{2355:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"cartOrder pt-7"},[a("div",{staticClass:"container mb-4"},[0!==this.cartTotal?a("div",{staticClass:"mt-3"},[a("div",[a("Progress",{attrs:{steps:t.currentStep}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.cart,(function(s){return a("tr",{key:s.product.id,staticClass:"cartOrderItem border-bottom border-top text-center"},[a("th",{staticClass:"border-0 px-0 font-weight-normal py-4 d-sm-flex justify-content-sm-center align-items-sm-center",attrs:{scope:"row"}},[a("img",{staticClass:"cartOrderItem-img d-block d-md-inline",attrs:{src:s.product.imageUrl[0],alt:""}}),a("p",{staticClass:"cartOrderItem-title mb-0 ml-md-3 font-weight-bold d-inline-block"},[t._v(" "+t._s(s.product.title)+" ")])]),a("td",{staticClass:"border-0 align-middle",staticStyle:{"max-width":"160px"}},[a("div",{staticClass:"input-group d-flex justify-content-center flex-column flex-xl-row"},[a("div",{staticClass:"input-group-prepend justify-content-center"},[a("button",{staticClass:"btn btn-outline-dark border-0 p-1",attrs:{type:"button",id:"button-addon1",disabled:1===s.quantity},on:{click:function(a){return t.quantityUpdate(s.product.id,s.quantity-1)}}},[a("i",{staticClass:"fas fa-minus"})])]),a("span",{staticClass:"border-0 text-center d-block my-auto shadow-none px-0 px-sm-3"},[t._v(" "+t._s(s.quantity)+" ")]),a("div",{staticClass:"input-group-append justify-content-center"},[a("button",{staticClass:"btn btn-outline-dark border-0 p-1",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.quantityUpdate(s.product.id,s.quantity+1)}}},[a("i",{staticClass:"fas fa-plus"})])])])]),a("td",{staticClass:"border-0 align-middle"},[a("p",{staticClass:"mb-0 ml-auto"},[t._v(t._s(t._f("total")(s.product.price)))])]),a("td",{staticClass:"border-0 align-middle"},[a("button",{staticClass:"btn border-0 btn-sm",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.removeCartItem(s.product.id)}}},[a("i",{staticClass:"fas fa-times fa-lg"})])])])})),0)])]),a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"border p-4 mb-4"},[a("h4",{staticClass:"font-weight-bold mb-4"},[t._v("詳細訂單內容")]),a("table",{staticClass:"table text-muted border-bottom"},[a("tbody",t._l(t.cart,(function(s){return a("tr",{key:s.product.id},[a("th",{staticClass:"border-0 px-2 font-weight-normal text-left",attrs:{scope:"row"}},[t._v(" "+t._s(s.product.title)+" ")]),a("td",{staticClass:"border-0 px-2 text-center"},[t._v(" "+t._s(s.quantity)+t._s(s.product.unit)+" ")]),a("td",{staticClass:"text-right pl-2 pr-0 border-0"},[t._v(" "+t._s(t._f("total")(s.product.price))+" ")])])})),0)]),a("div",{staticClass:"d-flex justify-content-between mt-4"},[a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總共")]),a("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(t._s(t._f("total")(t.cartTotal)))])]),a("router-link",{staticClass:"btn btn-primary btn-block mt-4",attrs:{to:"/checkoutorder"}},[t._v("結帳去")])],1)])])]):a("div",{staticClass:"my-200 text-center"},[a("h2",[t._v("您的購物車沒有商品喔~")]),a("router-link",{staticClass:"h5 m-0",attrs:{to:"/products"}},[a("i",{staticClass:"far fa-arrow-alt-circle-left mr-1"}),t._v(" 繼續購物 ")])],1)]),a("Footer")],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",{staticClass:"border-0 pl-0",attrs:{scope:"col"}},[t._v("產品")]),a("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("產品數量")]),a("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("價格")]),a("th",{staticClass:"border-0",attrs:{scope:"col"}},[t._v("刪除")])])])}],r=(a("99af"),a("4160"),a("159b"),a("acd4")),n=a("2e05"),c={components:{Footer:r["a"],Progress:n["a"]},data:function(){return{currentStep:0,cart:[],cartTotal:0,cartQuantity:0,mySteps:["購物車","填寫訂單","訂單確認"],line:5,coupon:{},couponCode:""}},created:function(){var t=this,s=this;s.$bus.$on("delete",(function(){t.getCart(),t.cartTotal=0})),this.getCart()},beforeDestroy:function(){this.$bus.$off("delete")},methods:{getCart:function(){var t=this,s=this.$loading.show(),a="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.cart.forEach((function(s){t.cartTotal+=s.product.price*s.quantity,t.cartQuantity+=s.quantity})),s.hide()})).catch((function(s){var a=s.response.data.errors;t.$bus.$emit("message:push","錯誤 ".concat(a),"danger")}))},quantityUpdate:function(t,s){var a=this,e=this.$loading.show(),i="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping"),r={product:t,quantity:s};this.$http.patch(i,r).then((function(t){a.cartTotal=0,a.cartQuantity=0,a.$bus.$emit("changeCart"),a.getCart(),e.hide()})).catch((function(t){var s=t.response.data.errors;a.$bus.$emit("message:push","錯誤 ".concat(s),"danger")}))},removeCartItem:function(t){var s=this,a=this.$loading.show(),e="".concat("https://course-ec-api.hexschool.io","/api/").concat("958a050f-3e4c-4878-9e46-1770b3152f41","/ec/shopping/").concat(t);this.$http.delete(e).then((function(){s.cartTotal=0,s.cartQuantity=0,s.$bus.$emit("changeCart"),s.getCart(),a.hide()})).catch((function(){s.$bus.$emit("message:push","刪除產品失敗","danger"),a.hide()}))}}},o=c,l=(a("ed1e"),a("2877")),u=Object(l["a"])(o,e,i,!1,null,null,null);s["default"]=u.exports},"2e05":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("step-progress",{attrs:{steps:t.mySteps,"current-step":t.steps,"line-thickness":t.line,"icon-class":"fa fa-check","active-color":"#5CA8CA","active-thickness":3}})},i=[],r=(a("a9e3"),{props:{steps:{type:Number,default:function(){return{}}}},data:function(){return{mySteps:["購物車","填寫訂單","訂單確認"],line:3}}}),n=r,c=(a("b31c"),a("2877")),o=Object(c["a"])(n,e,i,!1,null,null,null);s["a"]=o.exports},6971:function(t,s,a){},"87b4":function(t,s,a){"use strict";var e=a("c63d"),i=a.n(e);i.a},"883f":function(t,s,a){},acd4:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"footer"},[a("div",{staticClass:"bg-light py-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between align-items-md-center align-items-start"},[a("p",{staticClass:"footerTitle mb-0"},[t._v("歡迎訂閱獲得更多搶先優惠資訊以及折扣碼")]),a("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(s){var e=s.invalid;return[a("form",{attrs:{action:""},on:{submit:function(s){return s.preventDefault(),t.searchCoupon(s)}}},[a("validation-provider",{staticClass:"d-flex",attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.errors,r=s.classes;return[a("div",{staticClass:"input-group mt-md-0 mt-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control rounded-0",class:r,attrs:{type:"email",placeholder:"請輸入電子信箱"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary text-black rounded-0",attrs:{id:"search",disabled:e}},[t._v(" 訂閱 ")])]),i[0]?a("span",{staticClass:"d-flex align-items-center text-danger"},[t._v("信箱"+t._s(""+i[0].slice(8,i[0].length)))]):t._e()])]}}],null,!0)})],1)]}}])})],1)])]),t._m(0)])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bg-white py-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex align-items-center justify-content-between text-primary mb-md-7 mb-4"},[a("a",{staticClass:"footerLogo font-style text-primary",attrs:{href:"./index.html"}},[t._v("S Protein")]),a("ul",{staticClass:"d-flex list-unstyled mb-0 h4"},[a("li",[a("a",{staticClass:"text-primary mx-2 mx-md-3",attrs:{href:"https://www.facebook.com/profile.php?id=100002626446604"}},[a("i",{staticClass:"fab fa-facebook"})])]),a("li",[a("a",{staticClass:"text-primary mx-2 mx-md-3",attrs:{href:"https://www.instagram.com/cinglin54570/"}},[a("i",{staticClass:"fab fa-instagram"})])]),a("li",[a("a",{staticClass:"text-primary ml-2 ml-md-3",attrs:{href:"https://github.com/CingLin570/s_protein"}},[a("i",{staticClass:"fab fa-github"})])])])]),a("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between align-items-md-end align-items-start text-primary"},[a("div",{staticClass:"mb-md-0 mb-1"},[a("p",{staticClass:"mb-0"},[t._v("所有圖片為練習使用，無商業用途。")])]),a("p",{staticClass:"mb-0"},[t._v("© 2020 LOGO All Rights Reserved.")])])])])}],r={data:function(){return{email:""}},methods:{searchCoupon:function(){this.email?this.$bus.$emit("message:push","優惠碼:cinglin570","success"):this.$bus.$emit("message:push","信箱格式錯誤","danger")}}},n=r,c=(a("87b4"),a("2877")),o=Object(c["a"])(n,e,i,!1,null,null,null);s["a"]=o.exports},b31c:function(t,s,a){"use strict";var e=a("883f"),i=a.n(e);i.a},c63d:function(t,s,a){},ed1e:function(t,s,a){"use strict";var e=a("6971"),i=a.n(e);i.a}}]);